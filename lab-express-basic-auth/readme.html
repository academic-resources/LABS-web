<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>readme</title>
  <style>
    html {
      line-height: 1.5;
      font-family: Georgia, serif;
      font-size: 20px;
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      overflow-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 1em;
      }
    }
    @media print {
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, 'Lucida Console', Consolas, monospace;
      font-size: 85%;
      margin: 0;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
      overflow-wrap: normal;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      background-color: #1a1a1a;
      border: none;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<h1 id="lab-basic-auth">LAB | Basic Auth</h1>
<p><br><br></p>
<h2 id="introduction">Introduction</h2>
<p><br></p>
<p>In this lab, you are going to reinforce the knowledge on how to create basic authorization and authentication in a web app.</p>
<p><img src="https://s3-eu-west-1.amazonaws.com/ih-materials/uploads/upload_044a7b23c9b4cf082e1c4fadcd12d308.png" /></p>
<h2 id="requirements">Requirements</h2>
<ul>
<li>Fork this repo</li>
<li>Clone this repo</li>
</ul>
<h2 id="submission">Submission</h2>
<ul>
<li><p>Upon completion, run the following commands:</p>
<pre><code>git add .
git commit -m &quot;done&quot;
git push origin master</code></pre></li>
<li><p>Create Pull Request so your TAs can check up your work.</p></li>
</ul>
<p><br></p>
<h2 id="instructions">Instructions</h2>
<p><em>In this lab, you literally have to recreate materials your instructors went through on the class. The point is not to blindly copy-paste them, but the opposite of that: to go once again, step by step through the process of registering users and authenticating them in the web app. Try to target all the weak spots, everything you missed to grasp during the lecture time, so you can ask your instructors and assistants to push you through the learning process.</em></p>
<p><br></p>
<h3 id="iteration-0-initialize-the-project">Iteration 0 | Initialize the project</h3>
<p>After forking and cloning the project, you will have to install all the dependencies:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> cd lab-express-basic-auth</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> npm install</span></code></pre></div>
<p>Now you are ready to start üöÄ</p>
<p><br></p>
<h2 id="iteration-1-sign-up">Iteration 1 | Sign Up</h2>
<p>We have to create the <em>signup</em> feature - the goal is to enable our users to register in our application. The users have to provide the following information:</p>
<ul>
<li><strong>username</strong>: must be unique in our application, and will identify each user</li>
<li><strong>password</strong>: must be encrypted (you can use the <code>bcryptjs</code> npm package).</li>
</ul>
<p>To complete this first iteration, you have to create the model as well as corresponding routes, and the views.</p>
<p><br></p>
<h2 id="iteration-2-login">Iteration 2 | Login</h2>
<p>Once the user has signed up, he/she should be able to authenticate themselves. This means the user should be able to login to the application. Your assignment in this iteration is to create corresponding routes as well as the views to let them log in to the application.</p>
<p>As you know, it is not enough just to allow users to login. Users should be able to maintain their ‚Äúpresence‚Äù in the application (stay logged in when going from a page to a page, after the refresh), and for that, there should be the user(s) in the session. You have learned that you can use the <code>express-session</code> and <code>connect-mongo</code> npm packages to create a session.</p>
<p><br></p>
<h2 id="iteration-3-protected-routes">Iteration 3 | Protected Routes</h2>
<p>At this point, you have implemented the basic authentication in this application. Your next assignment is to create the authentication middleware and protect some routes. Refresher: users can‚Äôt visit these routes unless they are authenticated (logged in and exist in the session).</p>
<p>Let‚Äôs create two different routes protected by authentication:</p>
<ul>
<li><code>/main</code> - Add a funny picture of a cat and a link back to the home page</li>
<li><code>/private</code> - Add your favorite <code>gif</code> and an <code>&lt;h1&gt;</code> denoting the page as private.</li>
</ul>
<p>Create the views and the custom authentication middleware function. Once created, use the middleware and protect the routes to prevent access to users who are not being authenticated.</p>
<p><br><br></p>
<h2 id="bonus-the-validation">Bonus | The validation</h2>
<p><br></p>
<h3 id="validation-during-the-signup-process">Validation during the signup process</h3>
<p>You should handle validation errors when a user signs up:</p>
<ul>
<li>The fields can‚Äôt be empty.</li>
<li>The username can‚Äôt be repeated.</li>
</ul>
<p><br></p>
<h3 id="bonus-validation-during-the-login-process">Bonus | Validation during the login process</h3>
<p>You should check if all the fields are correctly filled before authenticating the user.</p>
<p><br></p>
<h3 id="frontend-validation">Frontend validation</h3>
<p>Let‚Äôs add validations to our forms. Remember we have two different forms: sign up and log in.</p>
<p>Remember, when a user signs up or logs in, both the username and password fields must be filled in.</p>
<p>Check out the <a href="https://developer.mozilla.org/en-US/docs/Learn/HTML/Forms/Data_form_validation">documentation</a> at MDN. See if you can find a <em>constraint</em> that requires the user to fill a field before submission.</p>
<p><br></p>
<h2 id="extra-resources">Extra Resources</h2>
<ul>
<li><a href="http://www.the-art-of-web.com/html/html5-form-validation/">HTML5 Form Validations</a></li>
</ul>
<p><br><br></p>
<p><strong>Happy coding!</strong> :heart:</p>
</body>
</html>
